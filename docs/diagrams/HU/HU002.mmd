graph TB
    %% HU-002: Create Restaurant (high contrast)

    subgraph "Input Adapters"
        REST["ðŸŒ RestaurantRestController\nPOST /api/v1/restaurants"]
    end

    subgraph "Application Layer"
        HANDLER["ðŸ“‹ RestaurantHandler"]
        REQ_DTO["ðŸ“¤ RestaurantCreateRequestDto"]
        RES_DTO["ðŸ“¥ RestaurantResponseDto"]
        REQ_MAP["ðŸ”„ IRestaurantRequestMapper"]
        RES_MAP["ðŸ”„ IRestaurantResponseMapper"]
    end

    subgraph "Domain Core"
        MODEL["ðŸ“Š RestaurantModel"]
        USECASE["âš™ï¸ RestaurantUseCase"]
        API_PORT["ðŸ”Œ IRestaurantServicePort"]
        PERSIST_PORT["ðŸ”Œ IRestaurantPersistencePort"]
        USER_PORT["ðŸ”Œ IUserServicePort"]
    end

    subgraph "Output Adapters"
        JPA_ADAPTER["ðŸ’¾ RestaurantJpaAdapter"]
        ENTITY["ðŸ—ƒï¸ RestaurantEntity"]
        REPO["ðŸª IRestaurantRepository"]
        ENTITY_MAP["ðŸ”„ IRestaurantEntityMapper"]
        USERS_ADAPTER["ðŸ‘¥ UsersServiceAdapter"]
        DB[("ðŸ—„ï¸ PostgreSQL")]
    end

    REST --> HANDLER
    HANDLER --> REQ_MAP
    REQ_MAP --> MODEL
    MODEL --> API_PORT
    API_PORT --> USECASE
    USECASE --> PERSIST_PORT
    USECASE --> USER_PORT
    PERSIST_PORT --> JPA_ADAPTER
    JPA_ADAPTER --> ENTITY_MAP
    ENTITY_MAP --> ENTITY
    ENTITY --> REPO
    REPO --> DB
    USECASE --> |"validations"| USECASE
    USECASE --> |"DomainException on errors"| REST
    USECASE --> |"created model"| HANDLER
    HANDLER --> RES_MAP
    RES_MAP --> REST

    %% Styles (high contrast)
    classDef domain fill:#e1f5fe,stroke:#0277bd,stroke-width:2px,color:#000000
    classDef app fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px,color:#000000
    classDef infra fill:#e8f5e8,stroke:#388e3c,stroke-width:2px,color:#000000
    classDef io fill:#fff3e0,stroke:#f57c00,stroke-width:2px,color:#000000

    class MODEL,USECASE,API_PORT,PERSIST_PORT,USER_PORT domain
    class HANDLER,REQ_DTO,RES_DTO,REQ_MAP,RES_MAP app
    class REST,JPA_ADAPTER,ENTITY,REPO,ENTITY_MAP,USERS_ADAPTER,DB infra
